{% load static %}

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'home/css/home.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel=”stylesheet” href=”https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css” />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,-25" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
   

</head>
<style>
    .logo-color {
        background-color: #2a4655;
        color: white;
    }
</style>
<body class="w3-theme-l5">

    <!-- Navbar -->
    <div class="w3-top">
        <div class="w3-bar baby-blue w3-left-align w3-large ">
            <a class="w3-bar-item w3-hide-medium w3-hide-large w3-right w3-padding-large w3-large blue-grotto misty-blue-h" style="border-radius: 3px; height: 69px; width: 70px;"
                href="javascript:void(0);" onclick="openNav()"><i class="fa fa-bars font-white " style="margin-top: 0.5em; margin-left: 0.2em;"></i></a>
            <a href="#" class="w3-bar-item w3-padding-large size-18"></i><img src="/static/images/horizontal_Logo.png"
                                style="height:30;width:200px; margin-right: 1em;"></a>
            <div style="padding-top: 0.5em;">
                <a href="{% url 'web:home' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-home" style="font-size: 18px; margin-right: 1em;"></i>หน้าหลัก</a>

                <a href="{% url 'web:channel_page' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-plus" style="font-size: 16px; margin-right: 1em;"></i>สร้างแชนแนล</a>

                <a href="{% url 'web:document' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-book" style="font-size: 16px; margin-right: 1em;"></i>API Documents</a>

                <a href="{% url 'web:report_page' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-bar-chart" style="font-size: 16px; margin-right: 1em;"></i>สถิติ</a>

                <a href="{% url 'web:setting_page' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-cog" style="font-size: 16px; margin-right: 1em;"></i>ตั้งค่า
                </a>
                <a href="{% url 'web:help_page' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-question-circle" style="font-size: 16px; margin-right: 1em;"></i>ช่วยเหลือ</a>
                <a href="{% url 'web:update_page' %}" class="w3-bar-item w3-hide-small w3-padding-large thai-font ul-rm size-17 blue-grotto-h">
                    <i class="fa fa-newspaper-o" style="font-size: 16px; margin-right: 1em;"></i>Update !</a>

            </div>
            <!-- <div class="w3-dropdown-hover w3-hide-small">
                <button class="w3-button w3-padding-large" title="Notifications"><i class="fa fa-bell"></i><span
                        class="w3-badge w3-right w3-small w3-green">3</span></button>
                <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
                    <a href="#" class="w3-bar-item w3-button">One new friend request</a>
                    <a href="#" class="w3-bar-item w3-button">John Doe posted on your wall</a>
                    <a href="#" class="w3-bar-item w3-button">Jane likes your post</a>
                </div>
            </div> -->
            <div style="margin-right: 1em;">
                <a href="{% url 'web:logout' %}" class="w3-bar-item w3-hide-small w3-right w3-padding-large thai-font ul-rm size-18 blue-grotto-h">
                    <i class="fa fa-sign-out" style="font-size: 18px; margin-right: 0.5em;"></i> ออกจากระบบ
                </a>
            </div>
        </div>
    </div>

    <!-- Navbar on small screens -->
    <div id="navDemo" class="w3-bar-block w3-hide w3-hide-large w3-hide-medium w3-large blue-grotto font-white" style="margin-top: 3.8em;">
        <a href="{% url 'web:home' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-home" style="font-size: 18px; margin-right: 1em;"></i>หน้าหลัก
        </a>
        <a href="{% url 'web:channel_page' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-plus" style="font-size: 16px; margin-right: 1em;"></i>สร้างแชนแนล
        </a>
        <a href="{% url 'web:document' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-book" style="font-size: 16px; margin-right: 1em;"></i>API Documents
        </a>
        <a href="{% url 'web:report_page' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-bar-chart" style="font-size: 16px; margin-right: 1em;"></i>สถิติ
        </a>
        <a href="{% url 'web:setting_page' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-cog" style="font-size: 16px; margin-right: 1em;"></i>ตั้งค่า
        </a>
        <a href="{% url 'web:help_page' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-question-circle" style="font-size: 16px; margin-right: 1em;"></i>ช่วยเหลือ
        </a>
        <a href="{% url 'web:update_page' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-newspaper-o" style="font-size: 16px; margin-right: 1em;"></i>Update !
        </a>
        <a href="{% url 'web:logout' %}" class="w3-bar-item baby-blue-h w3-padding-large thai-font ul-rm size-17 font-black-h">
            <i class="fa fa-sign-out" style="font-size: 18px; margin-right: 0.5em;"></i> ออกจากระบบ
        </a>
    </div>

    <!-- Page Container -->
    <div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">
        <!-- The Grid -->
        <div class="w3-row">
            <!-- Left Column -->
            <div class="w3-col m3">
                <!-- Profile -->
                <div class="w3-card w3-round w3-white">
                    <div class="w3-container blue-grotto font-white" >
                        <!-- <h4 class="w3-center">My Profile</h4> -->
                        <p class="w3-center" style="margin-top: 1em;"><img src="/static/images/profile.png"
                                class="w3-circle" style="width: 100%; max-width: 200px; height: auto;"></p>
                        <hr>
                        <div style="margin-left: 1em;" class="size-14">
                            <p class="font-misty-blue">TSE APIS DEVELOPERS</p>
                            <p class="thai-font">
                                <span id="title"></span>
                                <span id="firstname"></span>
                                <span id="lastname"></span>
                                <span id="user_id" style="margin-left: 0.5em;">{{request.session.user_id}}</span>
                            </p>
                        </div>
                        <p>
                            <i class="w3-margin-right w3-text-theme w3-padding-small "></i>
                            <a href="{% url 'web:home' %}" class="ul-rm thai-font size-15 font-misty-blue-h">
                                <i class="fa fa-home font-misty-blue-h" style="font-size: 18px; margin-right: 1em;"></i>
                                หน้าหลัก
                            </a>
                        </p>
                        <p>
                            <i class="w3-margin-right w3-text-theme w3-padding-small"></i>
                            <a href="{% url 'web:createChannel_page' %}" class="ul-rm thai-font size-15 font-misty-blue-h">
                                <i class="fa fa-plus font-misty-blue-h" style="font-size: 18px; margin-right: 1em;"></i>
                                สร้างแชนแนล</a>
                        </p>
                    </div>
                </div>
                <br>

                <div
                    class="w3-container w3-round w3-border w3-margin-bottom white">
                    <p class="text-center font-black" style="padding-top: 1em;">
                        [CH:{{num_channel}}/20] [Enable:{{num_open_channel}}] [Disable:{{num_close_channel}}]
                    </p>
                </div>

                <!-- Accordion -->
                <div class="w3-card w3-round ">
                    <div>
                        <span class="w3-block w3-left-align white">
                            <p class="thai-font size-15 w3-padding-large" style="margin-bottom: -0.4em;">ทั่วไป</p>
                        </span>
                        <div class="baby-blue">
                            <a href="{% url 'web:document' %}" class="w3-block w3-left-align thai-font size-15 navy-blue-h ul-rm"
                                style="padding-left: 3em; padding-top: 1em; padding-bottom: 1em;">
                                <i class="fa fa-book" style="font-size: 16px; margin-right: 1em;"></i>API Documents</a>

                            <a href="{% url 'web:report_page' %}"class="w3-block w3-left-align thai-font size-15 navy-blue-h ul-rm"
                                style="padding-left: 3em; padding-top: 1em; padding-bottom: 1em;">
                                <i class="fa fa-bar-chart" style="font-size: 16px; margin-right: 1em;"></i>สถิติ</a>
                            <a href="{% url 'web:help_page' %}" class="w3-block w3-left-align thai-font size-15 navy-blue-h ul-rm"
                                style="padding-left: 3em; padding-top: 1em; padding-bottom: 1em;">
                                <i class="fa fa-question-circle" style="font-size: 18px; margin-right: 1em;"></i>ช่วยเหลือ</a>
                            
                            <a href="{% url 'web:update_page' %}" class="w3-block w3-left-align thai-font size-15 navy-blue-h ul-rm"
                                style="padding-left: 3em; padding-top: 1em; padding-bottom: 1em;">
                                <i class="fa fa-newspaper-o" style="font-size: 16px; margin-right: 1em;"></i>Update !</a>
                        </div>
                    </div>
                </div>
                <br>

                <!-- End Left Column -->
            </div>

            {% block body %}
            {% endblock %}

            <!-- Right Column -->
            <div class="w3-col m2">
                <div class="w3-card w3-round navy-blue">
                    <div class="w3-container" style="margin-left: 1em;">
                        <p style="margin-top: 1em;">
                            <a href="{% url 'web:setting_page' %}" class="thai-font size-15 ul-rm font-charcoal-h">
                                <i class="fa fa-cog" style="font-size: 16px; margin-right: 1.5em;"></i>
                                ตั้งค่า
                            </a>
                        </p>
                        <p>
                            <a href="{% url 'web:privacy_page' %}" class="thai-font size-15 ul-rm font-charcoal-h">
                                <i class="fa fa-lock" style="font-size: 16px; margin-right: 1.8em;"></i>
                                ความเป็นส่วนตัว
                            </a>
                        </p>
                        <p>
                            <a href="{% url 'web:logout' %}" class="thai-font size-15 ul-rm font-charcoal-h">
                                <i class="fa fa-sign-out" style="font-size: 16px; margin-right: 1.5em;"></i>
                                ออกจากระบบ
                            </a>
                        </p>
                    </div>
                </div>
                <br>
                <!-- End Right Column -->
            </div>

            <!-- End Grid -->
        </div>

        <!-- End Page Container -->
    </div>
    <br>

    <!-- Footer -->
    <footer class="w3-container w3-padding-16 baby-blue">
        <h5>Footer</h5>
    </footer>

    <footer class="w3-container blue-grotto">
        <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
    </footer>

    <script>
        var value = document.getElementById("user_id").innerHTML
            console.log(value);

            fetch('http://127.0.0.1:8000/api/v1/student?std_code=' + value, {
                headers: {
                    'Application-Key':'rootroot'
                }
            })
                .then(res => {
                    return res.json();
                })
                .then(data => {
                    console.log(data)
                    const title_th = data['output'][0]['tittle_name_lth']
                    const fname_th = data['output'][0]['fname_th'];
                    const lname_th = data['output'][0]['lname_th'];
                    const major_th = data['output'][0]['major_th'];
                    const department_th = data['output'][0]['department_th'];
                    const email = data['output'][0]['email'];
                    document.querySelector('#title').insertAdjacentHTML('beforeend', title_th);
                    document.querySelector('#firstname').insertAdjacentHTML('beforeend', fname_th);
                    document.querySelector('#lastname').insertAdjacentHTML('beforeend', lname_th);
                    document.querySelector('#title1').insertAdjacentHTML('beforeend', title_th);
                    document.querySelector('#firstname1').insertAdjacentHTML('beforeend', fname_th);
                    document.querySelector('#lastname1').insertAdjacentHTML('beforeend', lname_th);
                    document.querySelector('#major').insertAdjacentHTML('beforeend', major_th);
                    document.querySelector('#email').insertAdjacentHTML('beforeend', email);
                    document.querySelector('#depart').insertAdjacentHTML('beforeend', department_th);
                })
                .catch(error => console.log(error));
                
        // Accordion
        function myFunction(id) {
            var x = document.getElementById(id);
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
                x.previousElementSibling.className += " w3-theme-d1";
            } else {
                x.className = x.className.replace("w3-show", "");
                x.previousElementSibling.className =
                    x.previousElementSibling.className.replace(" w3-theme-d1", "");
            }
        }

        // Used to toggle the menu on smaller screens when clicking on the menu button
        function openNav() {
            var x = document.getElementById("navDemo");
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
            } else {
                x.className = x.className.replace(" w3-show", "");
            }
        }
    </script>

</body>

</html>